<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Currency Converter | SG Multi Tools</title>

<link rel="icon" href="favicon.png">
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="single-tool">
  <div class="tool-wrapper">

    <button class="close-btn" onclick="location.href='index.html'">Ã—</button>

    <h2>Currency Converter</h2>
    <p class="description">Convert currencies using real-time exchange rates</p>

    <label>Amount</label>
    <input type="number" id="amount" placeholder="Enter amount">

    <label>From</label>
    <select id="fromCurrency"></select>

    <label>To</label>
    <select id="toCurrency"></select>

    <div class="calc-grid" style="grid-template-columns:1fr;">
      <button onclick="convertCurrency()">Convert</button>
    </div>

    <div class="result" id="resultBox" style="display:none;"></div>

  </div>
</div>

<script>
const fromCurrency = document.getElementById("fromCurrency");
const toCurrency = document.getElementById("toCurrency");
const resultBox = document.getElementById("resultBox");

const currencies = [
  "USD","INR","EUR","GBP","AUD","CAD","JPY","CNY","SGD","NZD"
];

currencies.forEach(cur=>{
  const opt1 = document.createElement("option");
  const opt2 = document.createElement("option");
  opt1.value = opt2.value = cur;
  opt1.textContent = opt2.textContent = cur;
  fromCurrency.appendChild(opt1);
  toCurrency.appendChild(opt2);
});

fromCurrency.value = "USD";
toCurrency.value = "INR";

async function convertCurrency(){
  const amount = document.getElementById("amount").value;
  if(!amount || amount <= 0){
    alert("Enter a valid amount");
    return;
  }

  const from = fromCurrency.value;
  const to = toCurrency.value;

  try{
    const res = await fetch(`https://api.exchangerate-api.com/v4/latest/${from}`);
    const data = await res.json();
    const rate = data.rates[to];
    const converted = (amount * rate).toFixed(2);

    resultBox.style.display = "block";
    resultBox.innerHTML = `
      <strong>${amount} ${from}</strong> =
      <strong>${converted} ${to}</strong>
    `;
  }catch{
    alert("Unable to fetch exchange rates");
  }
}
</script>

</body>
</html>
