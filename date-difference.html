<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Date Difference | SG Multi Tools</title>

<link rel="icon" href="favicon.png">

<!-- All necessary CSS is included here for prototyping -->
<style>
    /* General Body Styles */
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background-color: #f0f2f5;
        margin: 0;
        /* Use Flexbox to center the tool card vertically and horizontally on the page */
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
        box-sizing: border-box;
    }

    /* Main container for the single tool page */
    /* This ensures the container doesn't exceed 75% of the screen's width */
    .single-tool {
        width: 100%;
        max-width: 75vw; /* Sets the max-width relative to the viewport width */
        display: flex;
        justify-content: center;
    }

    /* The actual card wrapper for the tool's content */
    .tool-wrapper {
        background: #ffffff;
        padding: 2rem 2.5rem;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        /* Sets a fixed max-width to prevent the card from becoming too wide on large screens */
        max-width: 500px;
        width: 100%;
        position: relative; /* Needed for positioning the close button */
        box-sizing: border-box;
    }

    /* Tool-specific element styles */
    .tool-wrapper h2 {
        text-align: center;
        margin-top: 0;
        margin-bottom: 0.5rem;
        color: #333;
        font-size: 1.8rem;
    }

    .tool-wrapper .description {
        text-align: center;
        color: #666;
        margin-bottom: 2rem;
        font-size: 0.9rem;
    }

    .tool-wrapper label {
        display: block;
        margin-top: 1rem;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #555;
    }

    .tool-wrapper input[type="date"] {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        font-size: 1rem;
        color: #333;
    }

    /* Styles for the container holding the Calculate and Clear buttons */
    .calc-grid {
        display: grid;
        grid-template-columns: 1fr 1fr; /* Creates two columns of equal width */
        gap: 1rem; /* Space between the buttons */
        margin-top: 1.5rem;
    }

    .tool-wrapper button {
        padding: 0.75rem;
        border: none;
        border-radius: 4px;
        background-color: #007bff;
        color: white;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }

    .tool-wrapper button:hover {
        background-color: #0056b3;
    }

    /* Specific style for the 'Clear' button */
    .calc-grid button:last-child {
        background-color: #6c757d;
    }

    .calc-grid button:last-child:hover {
        background-color: #5a6268;
    }

    /* Style for the result box that appears after calculation */
    .result {
        margin-top: 1.5rem;
        padding: 1rem;
        background-color: #e9ecef;
        border-radius: 4px;
        line-height: 1.6;
        border-left: 5px solid #007bff;
        color: #333;
    }

    /* Close button style */
    .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        background: transparent;
        border: none;
        font-size: 2rem;
        color: #aaa;
        cursor: pointer;
        line-height: 1;
        padding: 0;
    }

    .close-btn:hover {
        color: #333;
    }

    /* Responsive adjustments for smaller screens (e.g., tablets and phones) */
    @media (max-width: 768px) {
        body {
            padding: 15px; /* Reduce padding on smaller screens */
        }
        .single-tool {
            /* Allow the card to be wider on smaller screens for better readability */
            max-width: 95vw;
        }
        .tool-wrapper {
            padding: 1.5rem; /* Reduce padding inside the card */
        }
        .tool-wrapper h2 {
            font-size: 1.5rem; /* Slightly smaller title */
        }
    }
</style>
</head>

<body>

<div class="single-tool">
  <div class="tool-wrapper">

    <button class="close-btn" onclick="location.href='index.html'" title="Close">Ã—</button>

    <h2>Date Difference</h2>
    <p class="description">Calculate the difference between two dates</p>

    <label for="startDate">Start Date</label>
    <input type="date" id="startDate">

    <label for="endDate">End Date</label>
    <input type="date" id="endDate">

    <div class="calc-grid">
      <button onclick="calculateDiff()">Calculate</button>
      <button onclick="clearDates()">Clear</button>
    </div>

    <div class="result" id="resultBox" style="display:none;"></div>

  </div>
</div>

<script>
function calculateDiff(){
  const start = document.getElementById("startDate").value;
  const end = document.getElementById("endDate").value;

  if(!start || !end){
    alert("Please select both dates");
    return;
  }

  const startDate = new Date(start);
  const endDate = new Date(end);

  if(endDate < startDate){
    alert("End date must be after start date");
    return;
  }

  // More accurate date difference calculation
  let years = endDate.getFullYear() - startDate.getFullYear();
  let months = endDate.getMonth() - startDate.getMonth();
  let days = endDate.getDate() - startDate.getDate();

  if (days < 0) {
    months--;
    // Get the last day of the previous month
    days += new Date(endDate.getFullYear(), endDate.getMonth(), 0).getDate();
  }

  if (months < 0) {
    years--;
    months += 12;
  }
  
  // Calculate total days separately for accuracy
  const diffTime = endDate - startDate;
  const totalDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

  const resultBox = document.getElementById("resultBox");
  resultBox.style.display = "block";
  resultBox.innerHTML = `
    <strong>Difference:</strong><br>
    ${years} Years, ${months} Months, ${days} Days<br><br>
    <strong>Total Days:</strong> ${totalDays}
  `;
}

function clearDates(){
  document.getElementById("startDate").value = "";
  document.getElementById("endDate").value = "";
  document.getElementById("resultBox").style.display = "none";
}
</script>

</body>
</html>
