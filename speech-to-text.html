<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Speech to Text | SG Multi Tools</title>
  <meta name="description" content="Convert your speech into text instantly using SG Multi Tools Speech to Text tool.">

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-BT8RQZBBTQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-BT8RQZBBTQ');
  </script>

  <!-- Global CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

<div class="tool-wrapper">
  <!-- Close button -->
  <span class="close-btn" onclick="location.href='index.html'">âœ•</span>

  <!-- Tool Title -->
  <h2>Speech to Text</h2>
  <div class="description">
    Convert your speech into text instantly using your microphone.
  </div>

  <!-- Start / Stop Controls -->
  <div class="flexbox">
    <button id="startBtn">Start Recording</button>
    <button id="stopBtn" disabled>Stop Recording</button>
  </div>

  <!-- Result -->
  <div class="flexbox result" id="result">
    Your converted text will appear here
  </div>
</div>

<script>
let recognition;
const startBtn = document.getElementById('startBtn');
const stopBtn = document.getElementById('stopBtn');
const resultDiv = document.getElementById('result');

// Check for browser support
if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  recognition = new SpeechRecognition();
  recognition.continuous = true;
  recognition.interimResults = true;
  recognition.lang = 'en-US';

  recognition.onresult = function(event) {
    let transcript = '';
    for (let i = event.resultIndex; i < event.results.length; ++i) {
      transcript += event.results[i][0].transcript;
    }
    resultDiv.textContent = transcript;
  }

  recognition.onerror = function(event) {
    console.error('Speech recognition error:', event.error);
  }

  startBtn.onclick = function() {
    recognition.start();
    startBtn.disabled = true;
    stopBtn.disabled = false;
  }

  stopBtn.onclick = function() {
    recognition.stop();
    startBtn.disabled = false;
    stopBtn.disabled = true;
  }

} else {
  resultDiv.textContent = "Sorry, your browser does not support Speech Recognition.";
  startBtn.disabled = true;
  stopBtn.disabled = true;
}
</script>

</body>
</html>
