<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Speech to Text | SG Multi Tools</title>
<link rel="stylesheet" href="css/style.css">

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BT8RQZBBTQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BT8RQZBBTQ');
</script>
</head>

<body>
<div class="tool-wrapper">
  <!-- X Close Button -->
  <span class="close-btn" onclick="history.back()">âœ•</span>

  <!-- Tool Title -->
  <h2>Speech to Text</h2>

  <!-- Tool Description -->
  <div class="flexbox">
    <p>Convert your spoken words into written text instantly. Perfect for taking notes, dictation, or transcribing audio without typing.</p>
  </div>

  <!-- Tool Interface -->
  <div class="tool-content" style="display:flex; flex-direction:column; gap:12px;">
    <textarea id="speechOutput" rows="10" placeholder="Your transcription will appear here..." style="width:100%; padding:12px; border-radius:8px; border:1px solid #334155; background:var(--bg-card); color:var(--text-main);"></textarea>
    <div style="display:flex; gap:10px;">
      <button id="startBtn" class="cta-btn">Start</button>
      <button id="stopBtn" class="cta-btn">Stop</button>
      <button id="clearBtn" class="cta-btn">Clear</button>
    </div>
  </div>

  <!-- Optional CTA block (skipped for free tool) -->

</div>

<script>
const startBtn = document.getElementById('startBtn');
const stopBtn = document.getElementById('stopBtn');
const clearBtn = document.getElementById('clearBtn');
const speechOutput = document.getElementById('speechOutput');

let recognition;
if('webkitSpeechRecognition' in window){
  recognition = new webkitSpeechRecognition();
  recognition.continuous = true;
  recognition.interimResults = true;
  
  recognition.onresult = function(event){
    let transcript = '';
    for(let i=event.resultIndex; i<event.results.length; i++){
      transcript += event.results[i][0].transcript;
    }
    speechOutput.value = transcript;
  };
  
  startBtn.addEventListener('click', ()=> recognition.start());
  stopBtn.addEventListener('click', ()=> recognition.stop());
}else{
  alert('Your browser does not support Speech Recognition.');
}

clearBtn.addEventListener('click', ()=> speechOutput.value = '');
</script>

</body>
</html>
