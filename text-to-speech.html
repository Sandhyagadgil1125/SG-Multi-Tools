<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text to Speech | SG Multi Tools</title>

<link rel="stylesheet" href="tools-style.css">
</head>

<body>

<div class="tool-wrapper">
  <h2>Text to Speech</h2>

  <!-- TEXT INPUT -->
  <div class="flexbox">
    <label>Enter Text</label>
    <textarea id="text" placeholder="Enter text to convert into speech..."></textarea>
  </div>

  <!-- VOICE SELECT -->
  <div class="flexbox">
    <label>Voice</label>
    <select id="voiceSelect"></select>
  </div>

  <!-- BUTTONS -->
  <div class="flexbox">
    <button onclick="speakText()">Speak</button>
  </div>

  <div class="flexbox">
    <button onclick="stopSpeech()">Stop</button>
  </div>

</div>

<script>
const synth = window.speechSynthesis;
const voiceSelect = document.getElementById("voiceSelect");

function loadVoices(){
  const voices = synth.getVoices();
  voiceSelect.innerHTML = "";
  voices.forEach((voice, i)=>{
    const option = document.createElement("option");
    option.value = i;
    option.textContent = `${voice.name} (${voice.lang})`;
    voiceSelect.appendChild(option);
  });
}

function speakText(){
  const text = document.getElementById("text").value;
  if(!text) return;

  const utterance = new SpeechSynthesisUtterance(text);
  const voices = synth.getVoices();
  utterance.voice = voices[voiceSelect.value];
  synth.speak(utterance);
}

function stopSpeech(){
  synth.cancel();
}

loadVoices();
speechSynthesis.onvoiceschanged = loadVoices;
</script>

</body>
</html>
