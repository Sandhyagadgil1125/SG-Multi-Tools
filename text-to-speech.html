<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Text to Speech | SG Multi Tools</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SHARED TOOLS UI -->
  <link rel="stylesheet" href="tools-style.css">
</head>

<body>

  <div class="tool-wrapper">

    <!-- CLOSE BUTTON -->
    <span class="close-btn" onclick="location.href='index.html'">âœ•</span>

    <h2>Text to Speech</h2>

    <!-- TEXT INPUT -->
    <div class="flexbox">
      <label for="ttsText">Enter Text</label>
      <textarea id="ttsText" rows="4" placeholder="Type text to convert into speech..."></textarea>
    </div>

    <!-- VOICE SELECT -->
    <div class="flexbox">
      <label for="voiceSelect">Voice</label>
      <select id="voiceSelect"></select>
    </div>

    <!-- BUTTON -->
    <div class="flexbox">
      <button onclick="speakText()">Speak</button>
    </div>

    <!-- RESULT -->
    <div class="flexbox result" id="result">
      Audio will play using your browser voice
    </div>

  </div>

<script>
let voices = [];

function loadVoices(){
  voices = speechSynthesis.getVoices();
  const select = document.getElementById("voiceSelect");
  select.innerHTML = "";

  voices.forEach((voice, i) => {
    const option = document.createElement("option");
    option.value = i;
    option.textContent = `${voice.name} (${voice.lang})`;
    select.appendChild(option);
  });
}

speechSynthesis.onvoiceschanged = loadVoices;

function speakText(){
  const text = document.getElementById("ttsText").value.trim();
  const result = document.getElementById("result");

  if(!text){
    result.innerText = "Please enter some text first.";
    return;
  }

  const utterance = new SpeechSynthesisUtterance(text);
  const selectedVoice = document.getElementById("voiceSelect").value;
  utterance.voice = voices[selectedVoice];

  speechSynthesis.cancel();
  speechSynthesis.speak(utterance);

  result.innerText = "Speaking...";
}

loadVoices();
</script>

</body>
</html>
