<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Timer & Stopwatch | SG Multi Tools</title>

<link rel="icon" href="favicon.png">
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="single-tool">
  <div class="tool-wrapper">

    <!-- Close Button -->
    <button class="close-btn" onclick="location.href='index.html'">Ã—</button>

    <h1>Timer / Stopwatch</h1>
    <p class="tool-desc">Use countdown timer or stopwatch for daily tasks</p>

    <!-- DISPLAY -->
    <div class="result" id="display">
      00:00:00
    </div>

    <!-- TIMER INPUT -->
    <input type="number" id="minutes" placeholder="Enter minutes for timer">

    <!-- BUTTONS -->
    <button onclick="startTimer()">Start Timer</button>
    <button onclick="startStopwatch()">Start Stopwatch</button>
    <button onclick="stop()">Stop</button>
    <button onclick="reset()">Reset</button>

  </div>
</div>

<script>
let timerInterval = null;
let seconds = 0;
let isStopwatch = false;

/* FORMAT TIME */
function formatTime(sec){
  let h = Math.floor(sec / 3600);
  let m = Math.floor((sec % 3600) / 60);
  let s = sec % 60;

  return (
    String(h).padStart(2,'0') + ":" +
    String(m).padStart(2,'0') + ":" +
    String(s).padStart(2,'0')
  );
}

/* START TIMER */
function startTimer(){
  clearInterval(timerInterval);
  let mins = parseInt(document.getElementById("minutes").value);

  if(isNaN(mins) || mins <= 0){
    alert("Enter valid minutes");
    return;
  }

  isStopwatch = false;
  seconds = mins * 60;
  document.getElementById("display").textContent = formatTime(seconds);

  timerInterval = setInterval(() => {
    seconds--;
    document.getElementById("display").textContent = formatTime(seconds);

    if(seconds <= 0){
      clearInterval(timerInterval);
      alert("Time's up!");
    }
  },1000);
}

/* START STOPWATCH */
function startStopwatch(){
  clearInterval(timerInterval);
  isStopwatch = true;

  timerInterval = setInterval(() => {
    seconds++;
    document.getElementById("display").textContent = formatTime(seconds);
  },1000);
}

/* STOP */
function stop(){
  clearInterval(timerInterval);
}

/* RESET */
function reset(){
  clearInterval(timerInterval);
  seconds = 0;
  document.getElementById("display").textContent = "00:00:00";
  document.getElementById("minutes").value = "";
}
</script>

</body>
</html>
