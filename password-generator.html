<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator · SG Multi Tools</title>
    <meta name="description" content="Generate strong, secure passwords – random or memorable.">
    <link rel="icon" href="favicon/favicon.ico">
    
    <!-- Global styles (your theme) -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ---------- Standalone Tool Layout ---------- */
        body {
            background: var(--main-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .tool-standalone {
            background: var(--button-bg-alt);
            border-radius: 32px;
            border: 1px solid var(--dark-border);
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            padding: 2rem;
            width: 100%;
            max-width: 75vw;        /* never wider than 75% of viewport width */
            max-height: 75vh;       /* never taller than 75% of viewport height */
            overflow-y: auto;       /* scroll inside if content overflows */
            overflow-x: hidden;
            margin: auto;
        }

        /* Ensure all content fits comfortably */
        .tool-standalone .password-display {
            margin-top: 0.5rem;
        }

        .tool-standalone .options-panel {
            margin-bottom: 1.5rem;
        }

        /* Responsive fine-tuning */
        @media (max-width: 768px) {
            .tool-standalone {
                max-width: 90vw;    /* a bit more space on tablets */
                max-height: 80vh;
                padding: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .tool-standalone {
                max-width: 95vw;
                max-height: 85vh;
                padding: 1.25rem;
            }
        }

        /* ---------- Password Generator UI (exactly as before) ---------- */
        .password-display {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: var(--main-bg);
            border: 1px solid var(--dark-border);
            border-radius: 20px;
            padding: 0.25rem 0.25rem 0.25rem 1.25rem;
            margin: 1.5rem 0 1rem;
            transition: var(--transition);
        }
        .password-display:focus-within {
            border-color: var(--primary-accent);
            box-shadow: 0 0 0 4px var(--glow-shadow);
        }
        #passwordOutput {
            flex: 1;
            border: none;
            background: transparent;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            padding: 0.9rem 0;
            color: var(--text-primary);
            outline: none;
        }
        .copy-btn {
            background: var(--button-bg);
            border: 1px solid var(--dark-border);
            border-radius: 16px;
            padding: 0.85rem 1.4rem;
            color: var(--text-secondary);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            transition: var(--transition);
        }
        .copy-btn:hover {
            background: var(--primary-accent);
            color: var(--main-bg);
            border-color: var(--primary-accent);
            box-shadow: 0 0 16px var(--glow-shadow);
        }
        .copy-btn.copied {
            background: var(--success-color);
            border-color: var(--success-color);
            color: var(--main-bg);
        }
        .strength-section {
            background: rgba(10,15,30,0.6);
            border-radius: 16px;
            padding: 1.25rem 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--dark-border);
        }
        .strength-label {
            display: flex;
            justify-content: space-between;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.6rem;
        }
        #strengthScore {
            color: var(--primary-accent);
            font-weight: 600;
        }
        .strength-bar-bg {
            height: 8px;
            background: #1e2a3a;
            border-radius: 100px;
            overflow: hidden;
        }
        .strength-bar-fill {
            height: 100%;
            width: 0%;
            transition: width 0.2s, background-color 0.2s;
            border-radius: 100px;
        }
        .options-panel {
            background: var(--main-bg);
            border-radius: 24px;
            padding: 1.8rem;
            margin-bottom: 2rem;
            border: 1px solid var(--dark-border);
        }
        .option-group {
            margin-bottom: 1.8rem;
        }
        .option-group:last-child {
            margin-bottom: 0;
        }
        .option-header {
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
        }
        .checkbox-group label {
            background: var(--button-bg-alt);
            border: 1px solid var(--dark-border);
            border-radius: 100px;
            padding: 0.6rem 1.2rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: var(--transition);
        }
        .checkbox-group label:hover {
            border-color: var(--primary-accent);
            background: rgba(66,248,245,0.05);
        }
        .mode-selector {
            display: flex;
            gap: 1rem;
        }
        .mode-btn {
            flex: 1;
            background: var(--button-bg-alt);
            border: 1px solid var(--dark-border);
            border-radius: 16px;
            padding: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            transition: var(--transition);
        }
        .mode-btn.active {
            background: var(--primary-accent);
            color: var(--main-bg);
            border-color: var(--primary-accent);
            box-shadow: 0 0 16px var(--glow-shadow);
        }
        #lengthSlider {
            width: 100%;
            margin: 0.5rem 0;
            accent-color: var(--primary-accent);
            background: var(--dark-border);
            border-radius: 100px;
            height: 6px;
        }
        #lengthDisplay {
            background: var(--primary-accent);
            color: var(--main-bg);
            padding: 0.2rem 1rem;
            border-radius: 100px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        select {
            background: var(--button-bg-alt);
            border: 1px solid var(--dark-border);
            border-radius: 12px;
            padding: 0.7rem 1.2rem;
            color: var(--text-primary);
            font-size: 0.95rem;
            outline: none;
            transition: var(--transition);
        }
        select:hover, select:focus {
            border-color: var(--primary-accent);
        }
        .generate-btn {
            width: 100%;
            background: var(--primary-accent);
            color: var(--main-bg);
            border: none;
            border-radius: 20px;
            padding: 1.1rem;
            font-size: 1.2rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            transition: var(--transition);
            cursor: pointer;
            border: 1px solid transparent;
        }
        .generate-btn:hover {
            background: var(--accent-shade);
            box-shadow: 0 0 24px var(--glow-shadow);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- ---------- Standalone Tool Container ---------- -->
    <div class="tool-standalone">
        <!-- Tool Header (minimal) -->
        <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
            <div style="background: var(--primary-accent); width: 40px; height: 40px; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: var(--main-bg); font-size: 1.3rem;">
                <i class="fas fa-lock"></i>
            </div>
            <h1 style="font-size: 1.6rem; font-weight: 600; color: var(--text-primary); margin: 0;">Password Generator</h1>
        </div>
        
        <!-- Password Display + Copy -->
        <div class="password-display">
            <input type="text" id="passwordOutput" readonly aria-label="Generated password" value="P@ssw0rd!">
            <button id="copyBtn" class="copy-btn" aria-label="Copy password">
                <i class="fas fa-copy"></i>
                <span>Copy</span>
            </button>
        </div>
        
        <!-- Strength Meter -->
        <div class="strength-section">
            <div class="strength-label">
                <span><i class="fas fa-shield" style="color: var(--primary-accent);"></i> Password strength</span>
                <span id="strengthScore">Fair</span>
            </div>
            <div class="strength-bar-bg">
                <div id="strengthBar" class="strength-bar-fill" style="width: 60%; background: #f59e0b;"></div>
            </div>
        </div>
        
        <!-- Options Panel -->
        <div class="options-panel">
            <!-- Length Control -->
            <div class="option-group">
                <div class="option-header">
                    <i class="fas fa-arrows-alt-h"></i> Length
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="color: var(--text-secondary);">Characters</span>
                    <span id="lengthDisplay">12</span>
                </div>
                <input type="range" id="lengthSlider" min="4" max="64" value="12" step="1">
            </div>
            
            <!-- Mode: Random / Memorable -->
            <div class="option-group">
                <div class="option-header">
                    <i class="fas fa-cog"></i> Password type
                </div>
                <div class="mode-selector">
                    <button id="modeRandom" class="mode-btn active">
                        <i class="fas fa-random"></i> Random
                    </button>
                    <button id="modeMemorable" class="mode-btn">
                        <i class="fas fa-font"></i> Memorable
                    </button>
                </div>
            </div>
            
            <!-- Random Mode Options -->
            <div id="randomOptions">
                <div class="option-group">
                    <div class="option-header">
                        <i class="fas fa-check-square"></i> Include
                    </div>
                    <div class="checkbox-group">
                        <label><input type="checkbox" id="useUppercase" checked> A–Z</label>
                        <label><input type="checkbox" id="useLowercase" checked> a–z</label>
                        <label><input type="checkbox" id="useNumbers" checked> 0–9</label>
                        <label><input type="checkbox" id="useSymbols"> !@#$%^&*</label>
                    </div>
                </div>
                <div class="option-group">
                    <label style="display: flex; align-items: center; gap: 0.8rem; color: var(--text-secondary);">
                        <input type="checkbox" id="excludeAmbiguous"> 
                        <span>Exclude ambiguous characters (Il1O0)</span>
                    </label>
                </div>
            </div>
            
            <!-- Memorable Mode Options (hidden by default) -->
            <div id="memorableOptions" style="display: none;">
                <div class="option-group">
                    <div class="option-header">
                        <i class="fas fa-minus"></i> Word separator
                    </div>
                    <select id="separatorSelect">
                        <option value="-">Hyphen (-)</option>
                        <option value=".">Dot (.)</option>
                        <option value="_">Underscore (_)</option>
                        <option value=" ">Space</option>
                        <option value="">None</option>
                    </select>
                </div>
                <div class="option-group">
                    <label style="display: flex; align-items: center; gap: 0.8rem; color: var(--text-secondary);">
                        <input type="checkbox" id="addNumber" checked> 
                        <span>Add a number at the end (0–99)</span>
                    </label>
                </div>
            </div>
        </div>
        
        <!-- Generate Button -->
        <button id="generateBtn" class="generate-btn">
            <i class="fas fa-shield-alt"></i> Generate Password
        </button>
    </div>

    <!-- ---------- Password Generator Script (unchanged) ---------- -->
    <script>
        (function() {
            "use strict";
            
            const CHAR_SETS = {
                uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
                lowercase: 'abcdefghijklmnopqrstuvwxyz',
                numbers: '0123456789',
                symbols: '!@#$%^&*()_+~`|}{[]:;?><,./-='
            };
            const AMBIGUOUS = 'Il1O0';
            const WORD_LIST = [
                'apple', 'mountain', 'ocean', 'forest', 'thunder', 'crystal', 
                'eagle', 'river', 'flame', 'stone', 'wind', 'cloud', 'sunset',
                'tiger', 'python', 'quantum', 'silver', 'golden', 'iron', 'swift',
                'blue', 'red', 'green', 'black', 'white', 'smart', 'secure'
            ];
            
            const passwordOutput = document.getElementById('passwordOutput');
            const copyBtn = document.getElementById('copyBtn');
            const generateBtn = document.getElementById('generateBtn');
            const lengthSlider = document.getElementById('lengthSlider');
            const lengthDisplay = document.getElementById('lengthDisplay');
            const useUppercase = document.getElementById('useUppercase');
            const useLowercase = document.getElementById('useLowercase');
            const useNumbers = document.getElementById('useNumbers');
            const useSymbols = document.getElementById('useSymbols');
            const excludeAmbiguous = document.getElementById('excludeAmbiguous');
            const modeRandom = document.getElementById('modeRandom');
            const modeMemorable = document.getElementById('modeMemorable');
            const randomOptions = document.getElementById('randomOptions');
            const memorableOptions = document.getElementById('memorableOptions');
            const separatorSelect = document.getElementById('separatorSelect');
            const addNumber = document.getElementById('addNumber');
            const strengthBar = document.getElementById('strengthBar');
            const strengthScore = document.getElementById('strengthScore');
            
            let currentMode = 'random';
            
            lengthSlider.addEventListener('input', function() {
                lengthDisplay.textContent = lengthSlider.value;
                if (currentMode === 'random') generatePassword();
                else generateMemorablePassword();
            });
            
            modeRandom.addEventListener('click', function() {
                setActiveMode('random');
                generatePassword();
            });
            modeMemorable.addEventListener('click', function() {
                setActiveMode('memorable');
                generateMemorablePassword();
            });
            
            function setActiveMode(mode) {
                currentMode = mode;
                if (mode === 'random') {
                    modeRandom.classList.add('active');
                    modeMemorable.classList.remove('active');
                    randomOptions.style.display = 'block';
                    memorableOptions.style.display = 'none';
                } else {
                    modeMemorable.classList.add('active');
                    modeRandom.classList.remove('active');
                    randomOptions.style.display = 'none';
                    memorableOptions.style.display = 'block';
                }
            }
            
            [useUppercase, useLowercase, useNumbers, useSymbols, excludeAmbiguous].forEach(el => {
                if (el) el.addEventListener('change', generatePassword);
            });
            [separatorSelect, addNumber].forEach(el => {
                if (el) el.addEventListener('change', generateMemorablePassword);
            });
            
            generateBtn.addEventListener('click', function() {
                if (currentMode === 'random') generatePassword();
                else generateMemorablePassword();
            });
            
            copyBtn.addEventListener('click', async function() {
                if (!passwordOutput.value) return;
                try {
                    await navigator.clipboard.writeText(passwordOutput.value);
                    copyBtn.classList.add('copied');
                    const originalHTML = copyBtn.innerHTML;
                    copyBtn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    setTimeout(() => {
                        copyBtn.classList.remove('copied');
                        copyBtn.innerHTML = originalHTML;
                    }, 2000);
                } catch (err) {
                    alert('Failed to copy. Please copy manually.');
                }
            });
            
            function generatePassword() {
                let pool = '';
                if (useUppercase.checked) pool += CHAR_SETS.uppercase;
                if (useLowercase.checked) pool += CHAR_SETS.lowercase;
                if (useNumbers.checked) pool += CHAR_SETS.numbers;
                if (useSymbols.checked) pool += CHAR_SETS.symbols;
                
                if (excludeAmbiguous.checked) {
                    pool = pool.split('').filter(ch => !AMBIGUOUS.includes(ch)).join('');
                }
                
                if (pool.length === 0) {
                    pool = CHAR_SETS.lowercase + CHAR_SETS.numbers;
                }
                
                const length = parseInt(lengthSlider.value, 10);
                let password = '';
                const randomValues = new Uint32Array(length);
                window.crypto.getRandomValues(randomValues);
                
                for (let i = 0; i < length; i++) {
                    password += pool[randomValues[i] % pool.length];
                }
                
                passwordOutput.value = password;
                updateStrengthMeter(password);
            }
            
            function generateMemorablePassword() {
                const numWords = Math.min(4, Math.floor(parseInt(lengthSlider.value, 10) / 5) + 2);
                const separator = separatorSelect.value;
                let words = [];
                
                for (let i = 0; i < numWords; i++) {
                    const rand = new Uint32Array(1);
                    window.crypto.getRandomValues(rand);
                    words.push(WORD_LIST[rand[0] % WORD_LIST.length]);
                }
                
                let password = words.join(separator);
                
                if (addNumber.checked) {
                    const randNum = new Uint32Array(1);
                    window.crypto.getRandomValues(randNum);
                    password += (randNum[0] % 100);
                }
                
                const maxLen = parseInt(lengthSlider.value, 10);
                if (password.length > maxLen) {
                    password = password.slice(0, maxLen);
                }
                
                passwordOutput.value = password;
                updateStrengthMeter(password);
            }
            
            function updateStrengthMeter(password) {
                const len = password.length;
                let score = 0;
                if (len >= 8) score += 1;
                if (len >= 12) score += 1;
                if (len >= 16) score += 1;
                if (/[A-Z]/.test(password)) score += 1;
                if (/[a-z]/.test(password)) score += 1;
                if (/[0-9]/.test(password)) score += 1;
                if (/[^A-Za-z0-9]/.test(password)) score += 1;
                
                let percent, label, color;
                if (score <= 2) { percent = 25; label = 'Very Weak'; color = '#ef4444'; }
                else if (score <= 4) { percent = 45; label = 'Weak'; color = '#f59e0b'; }
                else if (score <= 6) { percent = 70; label = 'Fair'; color = '#3b82f6'; }
                else { percent = 100; label = 'Strong'; color = '#10b981'; }
                
                strengthBar.style.width = percent + '%';
                strengthBar.style.backgroundColor = color;
                strengthScore.textContent = label;
            }
            
            generatePassword();
        })();
    </script>
</body>
</html>
