<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGTech-Multi Tools | Premium Dashboard</title>
    <style>
        :root {
            --bg-main: #0d0f14;
            --bg-nav: #1c222d;
            --bg-card: #12151a;
            --accent: #42f8f5;
            --accent-glow: rgba(66, 248, 245, 0.6);
            --text-primary: #ffffff;
            --text-secondary: #c5d1de;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Roboto, sans-serif; }
        body { background-color: var(--bg-main); color: var(--text-primary); line-height: 1.6; overflow-x: hidden; scroll-behavior: smooth; }

        .navbar { background: var(--bg-nav); padding: 1rem 5%; position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--accent-glow); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--text-primary); text-decoration: none; }
        .logo span { color: var(--accent); text-shadow: 0 0 10px var(--accent-glow); }

        .container { max-width: 1200px; margin: 0 auto; padding: 2rem 20px; }
        .tool-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem; }
        
        .tool-card { background: var(--bg-card); padding: 2rem; border-radius: 12px; border: 1px solid rgba(66, 248, 245, 0.1); transition: var(--transition); text-align: center; }
        .tool-card:hover { border-color: var(--accent); transform: translateY(-5px); }
        .tool-card h2 { margin-bottom: 1rem; font-size: 1.2rem; color: var(--accent); }

        .btn-glow { display: inline-block; padding: 10px 20px; background: transparent; color: var(--accent); border: 2px solid var(--accent); border-radius: 5px; cursor: pointer; transition: var(--transition); font-weight: bold; text-transform: uppercase; margin-top: 10px; }
        .btn-glow:hover { background: var(--accent); color: var(--bg-main); box-shadow: 0 0 15px var(--accent-glow); }

        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); backdrop-filter: blur(8px); overflow-y: auto; }
        .modal-content { background: var(--bg-nav); margin: 30px auto; padding: 30px; border: 1px solid var(--accent); width: 90%; max-width: 700px; border-radius: 15px; position: relative; }
        .close-modal { position: absolute; right: 20px; top: 10px; color: var(--accent); font-size: 30px; cursor: pointer; }

        .tool-ui { display: flex; flex-direction: column; gap: 1rem; margin-top: 15px; }
        input, textarea, select { background: #0d0f14; border: 1px solid #333; padding: 12px; color: white; border-radius: 5px; width: 100%; }
        .res { margin-top: 15px; padding: 15px; background: #090b0f; border-left: 4px solid var(--accent); border-radius: 4px; min-height: 50px; }
        canvas { max-width: 100%; height: auto; border: 1px solid #444; margin-top: 10px; }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="#" class="logo">SGTech-<span>Pro Suite</span></a>
    </nav>

    <main class="container">
        <div class="tool-grid" id="tool-grid"></div>
    </main>

    <div id="tool-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        const tools = [
            { id: 'img-conv', title: 'Image Converter', desc: 'Convert images to PNG/JPG/WebP.' },
            { id: 'img-comp', title: 'Image Compressor', desc: 'Reduce file size while keeping quality.' },
            { id: 'sip-calc', title: 'SIP Calculator', desc: 'Calculate future wealth from investments.' },
            { id: 'emi-calc', title: 'EMI Calculator', desc: 'Calculate monthly loan repayments.' },
            { id: 'bmi-calc', title: 'BMI Calculator', desc: 'Body Mass Index health checker.' },
            { id: 'color-pick', title: 'Color Picker', desc: 'Visual hex/rgb color selector.' },
            { id: 'stt', title: 'Speech to Text', desc: 'Real-time voice-to-text transcription.' },
            { id: 'json-fmt', title: 'JSON Formatter', desc: 'Clean and validate your JSON code.' },
            { id: 'audio-trim', title: 'Audio Trimmer', desc: 'Basic audio playback controller.' }
        ];

        const grid = document.getElementById('tool-grid');
        const modal = document.getElementById('tool-modal');
        const modalBody = document.getElementById('modal-body');

        tools.forEach(t => {
            grid.innerHTML += `
                <div class="tool-card">
                    <h2>${t.title}</h2>
                    <p>${t.desc}</p>
                    <button class="btn-glow" onclick="openTool('${t.id}')">Open Tool</button>
                </div>`;
        });

        function openTool(id) {
            modal.style.display = "block";
            renderUI(id);
        }

        document.querySelector('.close-modal').onclick = () => { modal.style.display = "none"; };

        function renderUI(id) {
            let html = `<h3>${id.toUpperCase().replace('-', ' ')}</h3><div class="tool-ui">`;

            if(id === 'img-conv' || id === 'img-comp') {
                html += `<input type="file" id="imgInput" accept="image/*">
                         <select id="imgFormat"><option value="image/png">PNG</option><option value="image/jpeg">JPG</option><option value="image/webp">WebP</option></select>
                         <button class="btn-glow" onclick="processImage('${id}')">Process & Download</button>
                         <canvas id="canvas" style="display:none;"></canvas>`;
            } else if(id === 'sip-calc') {
                html += `<input type="number" id="sipM" placeholder="Monthly Investment"><input type="number" id="sipR" placeholder="Expected Return %"><input type="number" id="sipY" placeholder="Years"><button class="btn-glow" onclick="doSIP()">Calculate</button>`;
            } else if(id === 'emi-calc') {
                html += `<input type="number" id="emiP" placeholder="Loan Amount"><input type="number" id="emiR" placeholder="Interest Rate %"><input type="number" id="emiN" placeholder="Months"><button class="btn-glow" onclick="doEMI()">Calculate EMI</button>`;
            } else if(id === 'color-pick') {
                html += `<input type="color" id="cpick" oninput="doColor(this.value)" style="height:100px;">`;
            } else if(id === 'stt') {
                html += `<button class="btn-glow" onclick="doSTT()">Start Listening</button><textarea id="sttRes" rows="5" placeholder="Speech will appear here..."></textarea>`;
            } else if(id === 'json-fmt') {
                html += `<textarea id="jinput" rows="8" placeholder="Paste JSON..."></textarea><button class="btn-glow" onclick="doJSON()">Format</button>`;
            } else if(id === 'bmi-calc') {
                html += `<input type="number" id="bh" placeholder="Height (cm)"><input type="number" id="bw" placeholder="Weight (kg)"><button class="btn-glow" onclick="doBMI()">Calculate</button>`;
            }

            html += `<div class="res" id="toolRes">Output will appear here...</div></div>`;
            modalBody.innerHTML = html;
        }

        // --- TOOL LOGIC ---

        function processImage(mode) {
            const file = document.getElementById('imgInput').files[0];
            if(!file) return;
            const reader = new FileReader();
            reader.onload = (e) => {
                const img = new Image();
                img.onload = () => {
                    const canvas = document.getElementById('canvas');
                    canvas.width = img.width; canvas.height = img.height;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0);
                    const format = document.getElementById('imgFormat').value;
                    const quality = mode === 'img-comp' ? 0.5 : 1.0;
                    const dataUrl = canvas.toDataURL(format, quality);
                    const link = document.createElement('a');
                    link.download = `sgtech-processed.${format.split('/')[1]}`;
                    link.href = dataUrl;
                    link.click();
                    document.getElementById('toolRes').innerText = "Processing Complete! Download started.";
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        function doSIP() {
            let P = document.getElementById('sipM').value, i = (document.getElementById('sipR').value / 100) / 12, n = document.getElementById('sipY').value * 12;
            let FV = P * [((Math.pow(1 + i, n) - 1) / i)] * (1 + i);
            document.getElementById('toolRes').innerText = `Future Wealth: ₹${FV.toLocaleString(undefined, {maximumFractionDigits: 0})}`;
        }

        function doEMI() {
            let P = document.getElementById('emiP').value, r = (document.getElementById('emiR').value / 12) / 100, n = document.getElementById('emiN').value;
            let emi = (P * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
            document.getElementById('toolRes').innerText = `Monthly EMI: ₹${emi.toLocaleString(undefined, {maximumFractionDigits: 0})}`;
        }

        function doColor(val) {
            document.getElementById('toolRes').innerText = `HEX: ${val.toUpperCase()}`;
            document.getElementById('toolRes').style.borderLeftColor = val;
        }

        function doSTT() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if(!SpeechRecognition) return alert("Browser not supported");
            const rec = new SpeechRecognition();
            rec.onresult = (e) => { document.getElementById('sttRes').value = e.results[0][0].transcript; };
            rec.start();
        }

        function doJSON() {
            try {
                const obj = JSON.parse(document.getElementById('jinput').value);
                document.getElementById('toolRes').innerHTML = `<pre>${JSON.stringify(obj, null, 4)}</pre>`;
            } catch(e) { document.getElementById('toolRes').innerText = "Invalid JSON Format"; }
        }

        function doBMI() {
            const h = document.getElementById('bh').value / 100, w = document.getElementById('bw').value;
            if(h && w) document.getElementById('toolRes').innerText = `BMI: ${(w / (h*h)).toFixed(2)}`;
        }
    </script>
</body>
</html>
